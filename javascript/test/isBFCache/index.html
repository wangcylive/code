<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">
    <title>判断是否缓存</title>
</head>
<body>
<h1>判断是否从历史记录跳转</h1>
<a href="?name=1">link</a>

<!--<input type="hidden" id="isCache">-->
<script>
    (function() {
        var isBFCache = document.createElement("input");
        isBFCache.type = "hidden";
        document.body.appendChild(isBFCache);

        window.addEventListener("pageshow", function(event) {
            var log = {
                expected: isBFCache.value !== "",
                persisted: event.persisted
            };

            var p = document.createElement("p");
            p.textContent = JSON.stringify(log);
            document.body.appendChild(p);

            isBFCache.value = Date.now();
        }, false);
    }());
</script>
</body>
</html>